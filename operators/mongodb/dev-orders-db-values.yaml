nameOverride: orders-db

crVersion: 1.20.0

image:
  repository: percona/percona-server-mongodb
  tag: 7.0.18-11

replsets:
  rs0:
    name: rs0
    size: 3
    affinity:
      antiAffinityTopologyKey: "kubernetes.io/hostname"
    labels:
      app.kubernetes.io/instance: orders-db
      app.kubernetes.io/name: psmdb-db
      app.kubernetes.io/component: mongod
    volumeSpec:
      persistentVolumeClaim:
        accessModes: [ "ReadWriteOnce" ]
        resources:
          requests:
            storage: 1Gi
        storageClassName: gp3
    expose:
      enabled: true
      type: ClusterIP
      customService:
        metadata:
          name: orders-db
        spec:
          selector:
            app.kubernetes.io/instance: orders-db
            app.kubernetes.io/name: psmdb-db
            app.kubernetes.io/component: mongod
          ports:
            - port: 27017
              targetPort: 27017
    resources:
      limits:
        cpu: 500m
        memory: 512Mi
      requests:
        cpu: 500m
        memory: 512Mi
    podDisruptionBudget:
      maxUnavailable: 1
    mongod:
      setParameter:
        enableAuth: "false"

users: []

sharding:
  enabled: false

backup:
  enabled: false
